package main

import (
	"fmt"
	"testing"
)

func TestEval(t *testing.T) {
	for _, tc := range []struct {
		input string
		want  int
	}{
		{"123", 123},
		{"1+1", 2},
		{"1-1", 0},
		{"2+2", 4},
		{"2+2*2", 6},
		{"2*2+2", 6},
		{"(2+2)*2", 8},
		{"2*(2+2)", 8},
		{"(120+2*2+1)/25*10*2+100+34", 234},
		{"1^1", 1},
		{"1^2", 1},
		{"2^1", 2},
		{"2^2", 4},
		{"2^3", 8},
		{"2^4", 16},
		{"3^3", 27},
		{"4^3", 64},
		{"6^2", 36},
		{"6^0", 1},
		{"2^10", 1024},
		{"3!", 6},
		{"4!", 24},
		{"3+3!-2!", 7},
		{"3+3!-3!", 3},
		{"-5+3", -2},
		{"-5-3", -8},
		{"+5+3", 8},
		{"-2*5", -10},
		{"5*-2", -10},
		{"-(2+2)", -4},
		{"-(2+2)*2", -8},
		{"7-(2+2)", 3},
		{"7-(2-2)", 7},
		{"7-(-2-2)", 11},
		{"-2^4", -16},
		{"-3!", -6},
		{"-4!", -24},
		// {"-10-5+2", -13},  will fix this bug later
	} {
		t.Run(fmt.Sprint(tc.input), func(t *testing.T) {
			if got := eval(tc.input); got != tc.want {
				t.Errorf("eval(%v) = %v, want %v", tc.input, got, tc.want)
			}
		})
	}
}
